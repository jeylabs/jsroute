(function(){var d=function(){var f={absolute:$ABSOLUTE$,rootUrl:"$ROOTURL$",routes:$ROUTES$,prefix:'$PREFIX$',route:function(a,b,c){return(c=c||this.getByName(a))?this.toRoute(c,b):void 0},url:function(a,b){b=b||[];var c=a+"/"+b.join("/");return this.getCorrectUrl(c)},toRoute:function(a,b){var c=this.replaceNamedParameters(a.uri,b),e=this.getRouteQueryString(b);return this.getCorrectUrl(c+e)},replaceNamedParameters:function(a,b){a=a.replace(/\{(.*?)\??\}/g,function(a,e){if(b.hasOwnProperty(e)){var d=b[e];delete b[e];
	return d}return a});return a=a.replace(/\/\{.*?\?\}/g,"")},getRouteQueryString:function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c+"="+a[c]);return 1>b.length?"":"?"+b.join("&")},getByName:function(a){for(var b in this.routes)if(this.routes.hasOwnProperty(b)&&this.routes[b].name===a)return this.routes[b]},getByAction:function(a){for(var b in this.routes)if(this.routes.hasOwnProperty(b)&&this.routes[b].action===a)return this.routes[b]},getCorrectUrl:function(a){a="/"+a.replace(/^\/?/,"");
	return this.absolute?this.rootUrl.replace("//?$/","")+a:this.prefix+a}},d=function(a,b,c){b=b||a;if(c){var e=[],d;for(d in c)c.hasOwnProperty(d)&&e.push(d+'="'+c[d]+'"');c=e.join(" ")}else c="";return'<a href="'+a+'" '+c+">"+b+"</a>"};return{action:function(a,b){b=b||{};return f.route(a,b,f.getByAction(a))},route:function(a,b){b=b||{};return f.route(a,b)},url:function(a,b){b=b||{};return f.url(a,b)},link_to:function(a,b,c){a=this.url(a);return d(a,b,c)},link_to_route:function(a,b,c,e){a=this.route(a,c);return d(a,
	b,e)},link_to_action:function(a,b,c,e){a=this.action(a,c);return d(a,b,e)}}}.call(this);"function"===typeof define&&define.amd?define(function(){return d}):"object"===typeof module&&module.exports?module.exports=d:window.$NAMESPACE$=d}).call(this);